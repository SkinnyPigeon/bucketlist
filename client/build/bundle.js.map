{"version":3,"sources":["webpack:///webpack/bootstrap b5f197d3411ab0874e3d","webpack:///./src/app.js","webpack:///./src/viewer.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,yBAAyB;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACtEA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,E;AACL,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA,6B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b5f197d3411ab0874e3d\n **/","var BucketView = require( './viewer.js')\n\nstate = {\n  countries: [],\n  country: []\n}\n\nwindow.onload = function(){\n var bucketView;\n\n var url = \"https://restcountries.eu/rest/v1\";\n var request = new XMLHttpRequest();\n request.open(\"GET\", url);\n request.send(null);\n var countries = document.getElementById( 'countries' )\n\n request.onload = function(){\n  var response = request.responseText\n  state.countries = JSON.parse( response )\n  bucketView = new BucketView( state.countries )\n  bucketView.render()\n}\ncountries.onchange = function() {\n  state.country = bucketView.selectCountry();\n  console.log( state, 'state' )\n  savedToDb()\n}\n\n}\n\nvar savedToDb = function() {\n  var request = new XMLHttpRequest();\n  request.open( \"POST\", '/countries' );\n  request.setRequestHeader( \"Content-Type\", \"application/json\" )\n  request.onload = function() {\n    if( request.status === 200 ) {\n      console.log( request )\n      getCountries();\n    }\n  }\n  // var deleteButton = document.getElementById( 'deleteButton' )\n  // deleteButton.onclick = function() {\n  //   deleteCountries();\n  // }\n  request.send( JSON.stringify( { country: state.country } ) )\n}\n\nvar getCountries = function() {\n  var request = new XMLHttpRequest();\n  request.open( \"GET\", \"/countries\" );\n  request.onload = function() {\n  }\n  request.send( null )\n\n}\n\nvar editCountries = function() {\n  var editButton = document.getElementById( 'editButton' )\n  var request = new XMLHttpRequest();\n  request.open( \"PUT\", \"/countries/:id\" );\n\n}\n\nvar deleteCountries = function( id ) {\n  var request = new XMLHttpRequest();\n  request.open( \"DELETE\", \"/countries/:\"+ id );\n  request.onload = function() {\n  }\n  request.send( null )\n\n}\n\n\n\n\n\n\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var BucketView = function( list ) {\n  this.list = list;\n}\n\nstate = {\n  country: \"\"\n}\n\n\n\nBucketView.prototype = {\n  render: function() {\n    this.addCountries();\n  },\n\n  addCountries: function() {\n    this.list.forEach(function(country, index) {\n      var countries = document.getElementById( 'countries' )\n      var option = document.createElement('option');\n      option.text = country.name;\n      option.value = country.index;\n      countries.appendChild(option);\n    });    \n  },\n\n  clickEdit: function() {\n    console.log( \"Clicked\" )\n  },\n\n  clickDelete: function() {\n\n  },\n\n  selectCountry: function() {\n    var self = this;\n    var countries = document.getElementById( 'countries' )\n    var currentlySelected = countries.options[countries.selectedIndex].text\n    console.log(this.list)\n\n    this.list.forEach(function(country) {\n     if(country.name === currentlySelected) {\n      var ul = document.getElementById( 'list' )\n      var li = document.createElement( 'li' )\n      var editButton  =document.createElement( 'button' );\n      editButton.id = \"editButton\"\n      var deleteButton  =document.createElement( 'button' );\n      deleteButton.id = \"deleteButton\"\n      editButton.innerHTML = \"Edit\"\n      deleteButton.innerHTML = \"Delete\"\n      li.innerHTML = country.name\n      li.appendChild( editButton )\n      li.appendChild( deleteButton )\n      ul.appendChild( li )\n      console.log(\"editButton\", editButton)\n      editButton.onclick = function(e){\n        self.clickEdit()\n      }\n      deleteButton.onclick = function(e){\n        self.clickDelete()\n      }\n      state.country = country;\n    }\n  });\n    return state.country   \n}\n\n}\n\nmodule.exports = BucketView;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/viewer.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}